# Программа для формирования графиков работы сотрудников

Данное приложение предназначено для управления и формирования графиков работы сотрудников на предприятии. Система позволяет отслеживать рабочее время, отпуска, больничные и другие статусы сотрудников по месяцам.

## Основные функции

- Формирование и редактирование графиков работы сотрудников по месяцам
- Учет различных статусов сотрудников (работа, отпуск, больничный и др.)
- Фильтрация и сортировка данных по различным критериям
- Статистика по рабочему времени
- Управление данными сотрудников

## Технологии

- **FastAPI** - веб-фреймворк для создания API
- **Peewee** - ORM для работы с базой данных SQLite
- **Jinja2** - шаблонизатор для генерации HTML
- **HTML/CSS/JavaScript** - фронтенд
- **SQLite** - локальная база данных

## Статусы сотрудников

В системе используются следующие обозначения статусов:

- **Б** - Больничный
- **О** - Отпуск
- **1** - Рабочий день
- **ПС** - Простой предприятия
- **ДО** - Декретный отпуск
- **БД** - Бесплатный день
- **Г** - Служит
- **В** - Выходной
- **-** - Не работает

## Поддерживаемые периоды

Система поддерживает графики работы для следующих месяцев:

- Октябрь 2025 (10)
- Ноябрь 2025 (11)
- Декабрь 2025 (12)
- Январь 2026 (01)

## Структура проекта

```
Formation-work-schedule/
├── app.py                 # Основной файл приложения FastAPI
├── database.py            # Определение моделей базы данных
├── config.py              # Конфигурационные параметры
├── run.py                 # Скрипт запуска приложения
├── requirements.txt       # Зависимости Python
├── static/                # Статические файлы (CSS, JS, изображения)
├── templates/             # HTML шаблоны
│   ├── work_schedule/     # Шаблоны графиков работы
│   │   ├── 2025/          # Графики за 2025 год
│   │   │   ├── 10/        # Октябрь 2025
│   │   │   ├── 11/        # Ноябрь 2025
│   │   │   └── 12/        # Декабрь 2025
│   │   └── 2026/          # Графики за 2026 год
│   │       └── 01/        # Январь 2026
│   ├── base.html          # Базовый шаблон
│   └── другие шаблоны...
├── utilities/             # Вспомогательные утилиты
├── data/                  # База данных (vacations.db)
└── log/                   # Логи приложения
```

## Запуск приложения

1. Установите зависимости:
```
pip install -r requirements.txt
```

2. Запустите приложение:
```
python run.py
```

3. Откройте в браузере:
```
http://localhost:8000
```

## API Эндпоинты

- `GET /data_{month}` - Получение данных графика за указанный месяц
- `POST /data_{month}` - Сохранение данных графика за указанный месяц
- `GET /report_card_{month}` - Отображение формы графика за указанный месяц
- `GET /api/employee/{month}/{tab}` - Получение данных сотрудника по табельному номеру
- `PUT /api/employee/{month}/{tab}` - Обновление графика сотрудника

## Авторизация

Доступ к административным функциям защищен базовой HTTP-авторизацией. Учетные данные настраиваются в `config.py`.

## Разработка и расширение

Для добавления новых месяцев в систему необходимо:

1. Добавить модель в `database.py`
2. Добавить эндпоинты в `app.py`
3. Создать HTML шаблон в папке `templates/work_schedule/...`
4. Обновить конфигурацию при необходимости

Данное приложение разработано для внутреннего использования на предприятии и может быть адаптировано под конкретные бизнес-требования.